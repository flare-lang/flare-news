# Reference: https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions

name: News
on:
    issues:
        types:
            - opened
    pull_request:
        types:
            - opened
jobs:
    news:
        runs-on: windows-latest
        steps:
            - name: Permission check
              id: permission
              uses: lannonbr/repo-permission-check-action@2.0.1
              with:
                  permission: write
              env:
                  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
              continue-on-error: true
            - name: Close issue
              if: steps.permission.outcome == 'failure'
              uses: peter-evans/close-issue@v1.0.1
              with:
                  comment: |
                      Please do not open issues or pull requests on this repository.
            - name: Lock issue
              uses: OSDKDev/lock-issues@v1.1
              with:
                  repo-token: ${{ secrets.GITHUB_TOKEN }}
